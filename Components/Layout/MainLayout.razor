@using BlazorPopUpOnLoadPoC.Components.Common
@inherits LayoutComponentBase

<Spinner></Spinner>

<div class="page">
	<div class="sidebar">
		<NavMenu />
	</div>

	<main>
		<div class="top-row px-4">
			<a href="https://learn.microsoft.com/aspnet/core/" target="_blank">About</a>
		</div>

		<article class="content px-4">
			@Body
		</article>
		<Popup @ref="popupRef" />
	</main>
</div>

<div id="blazor-error-ui">
	An unhandled error has occurred.
	<a href="" class="reload">Reload</a>
	<a class="dismiss">🗙</a>
</div>


@code {
	protected Popup popupRef = new Popup();



	protected override void OnAfterRender(bool firstRender)
	{
		if (firstRender)
		{
			if (!popupRef.IsVisible)
			{
				popupRef.Show("message here", "title here");

				// StateHasChanged();
			}

		}
	}
}